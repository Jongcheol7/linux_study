# 문서 편집하기

- 리눅스에 대표적인 편집기로는 vi, gedit 가 있다.
- gedit GUI로 윈도우의 메모장처럼 간단하게 문서를 작성할 수 있다.
- 하지만 터미널에서 작업을 할때 gedit를 사용하면 매번 gedit와 터미널을 왔다갔다 해야함.

- 문서 편집기는 모드형과 비모드형이 있다.
    - 모드형 : 입력모드와 명령모드가 구분됨 (vi)
        - 입력모드 : 텍스트를 입력할 수 있는 모드
        - 명령모드 : 텍스르틀 수정,삭제,복사,붙이기를 하는 편집을 하는 모드
    - 비모드형 : 구분되어 있지 않음

| 구분 | 모드형(vi) | 비모드형(메모장) |
| --- | --- | --- |
| 복사 | yy | Ctrl + c |
| 붙이기 | p | Ctrl + v |
| 저장 | :wq, ZZ | Ctrl + s |
| 모드 전환 | i, a, o, Esc | 해당없음 |

- 파일을 저장하고 종료하기
    
    
    | 마지막 행 모드 | :q | vi에서 작업한 것이 없을 때 그냥 종료한다. |
    | --- | --- | --- |
    |  | :q! | 작업한 내용을 저장하지 않고 종료 |
    |  | :w 파일명 | 작업한 내용을 저장만 한다. 파일명을 지정하면 새 파일로 저장 |
    |  | :wq, :wq! | 작업한 내용을 저장하고 종료 |
    | 명령 모드 | ZZ | 작업한 내용을 저장하고 vi종료 |
- vi 명령으로 커서 이동하기
    - H : 커서를 맨 위로
    - L : 커서를 맨 아래로
    - k : 커서를 바로 윗줄로
    - j : 커서를 바로 아랫줄로
    - $ : 그 줄의 맨 마지막으로
    - ^ : 그 줄의 맨 처음으로
    - h : 왼쪽으로
    - l : 오른쪽으로
    - w : 단어별로 이동
    - - : 전행이 첫글자로 이동
    - o : 현재행 아래에 한줄 만들어줌
- vi 명령으로 화면 이동하기
    - ctrl + u : 반 화면 위로 이동
    - ctrl +d :  반 화면 아래로 이동
    - ctrl + b : 한 화면 위로 이동 (page up)
    - ctrl + f : 한 화면 아래로 이동 (page Down)
    - ctrl + y : 화면을 한 행만 위로 이동
    - ctrl + e : 화면을 한 행만 아래로 이동
- 특정 행으로 바로 이동
    - G : 파일의 마지막 행으로 커서 이동 (마지막행 모드에서는 :$)
    - 행번호G : 지정한 행 번호로 커서 이동 (마지막행 모드에서는 :행번호)
- 글자 수정
    - r : 현재 커서의 글자 수정
    - cw : 현재 커서의 위치부터 해당 단어의 끝까지 삭제가됨 (적용하려면 esc눌러줌)
    - 3cw : 현재 커서위치부터 3개이 단어 삭제
    - s : 커서이 글자 하나 삭제
    - 5s : 커서로부터 5개의 글자 삭제
    - cc : 커서의 행을 삭제
    - C : 현재 커서부터 뒤에 전부를 삭제
- 내용 삭제
    - ← 나 delete로 삭제 가능
    - dw : 단어 삭제
    - 3dw : 단어 3개 삭제
    - dd : 커서의 행을 삭제
    - 3dd : 커서의 행 포함 3행 삭제
    - D : 커서의 위치부터 그 행을 전부 삭제
- 명령 취소
    - u : 명령 취소
    - U : 해당 행에서 한 명령 취소
    - :e!  : 마지막으로 저장한 내용 이후의 것을 버리고 새로 작업
- 복사하기
    - yy : 해당 행 복사
    - 3yy : 현재행포함 3행 복사
    - p(소문자) : 커서의 아래행에 붙여넣기
    - P(대문자) : 커서의 윗행에 붙여넣기
    - dd : 잘라내기, 삭제와 같음. 버퍼에 저장된다.
- 언네임드 버퍼, 네임드 버퍼
    - yy명령어로 버퍼에 저장하는 것은 언네임드 버퍼
    - 이는 후에 2yy같은 명령어를 사용시 yy로 인한 버퍼는 삭제됨
    - 네임드를 사용하려면 “ayy처럼 yy앞에 버퍼 이름을 만들어줌
    - 붙여넣기는 “aP, “ap 처럼 사용 가능
- 검색하기
    - 문자열을 검색하려면 마지막행 모드로 가야한다.
    - 마지막행 모드로 가려면 : 이 아니라 /이나 ?를 입력.
    - / 는  커서 아래 방향으로 검색
    - ? 는 커서 윗 방향으로 검색
    - 계속해서 다음 문자열을 검색하려면 n을 누른다.
    - 역방향으로 다음 문자열을 검색할땐 N을 누른다.
- 바꾸기
    - 먼저 : 를 입력하고 마지막 행 모드로 간다.
    - :s/fedora/FEDORA/   → 커서가 위치한 행에서 fedora를 FEDORA로 바꾼다.
    - :3,4s/editer/fedora/  → 3행과4행의 editer를 fedora로 바꾼다.
    - :%s/fedora/FEDORA/g → 파일의 모든 fedora 를 FEDORA로 바꾼다.
    - :1,$s/fedora/FEDORA/g → 위와 동일한 결과
- 파일 읽어오기, 여러파일 편집
    - :r파일명  → 현재 커서에 지정한 파일을 읽어 삽입
    - :e파일명  → 기존파일을 :w로 저장한 후 지정한 파일로 전환한다.
    - :n  → vi a b c로 세개의 파일을 지정했을때 :n 으로 a에서 b로 이동 가능, 컨트롤^는 거꾸로
    - :sh   → vi를 잠시빠져나와 셸 명령을 실행한다. 되돌아오려면 exit명령 입력
    - :!셸명령  → vi작업을 잠시 중단하고 셸명령 실행. 되돌아오려면 enter 입력
- vi 환경설정
    - :set nu  → 각 행에 행번호 표시
    - :set nonu
    - :set list  → 눈에 보이지 않는 특수문자 표시
    - :set nolist
    - :set showmode  → 현재모드 표시
    - :set noshowmode
    - :set  → set으로 설정한 모든 vi환경설정 값을 출력
    - :set all  → 모든 vi 환경변수와 현재값을 출력
    - .exrc 파일에 설정
    - 

![Untitled](%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%20%E1%84%91%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%207b8626ef182a431db32fb4603c2f970e/Untitled.png)

![Untitled](%E1%84%86%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%20%E1%84%91%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%207b8626ef182a431db32fb4603c2f970e/Untitled%201.png)
